{% extends "shared/base.html" %}
{% set lang = request.cookies.get('lang', 'it') %}
{% block title %}
{% if lang == 'fr' %}
    {% if personale %}Modifier employé{% else %}Nouvel employé{% endif %} – Lenta France
{% else %}
    {% if personale %}Modifica dipendente{% else %}Nuovo dipendente{% endif %} – Lenta France
{% endif %}
{% endblock %}
{% block content %}
<div class="page-header">
    <div class="page-header-main">
        <p class="page-eyebrow">
            {% if lang == 'fr' %}
                Gestion du personnel
            {% else %}
                Gestione del personale
            {% endif %}
        </p>
        <h1 class="page-title">
            {% if lang == 'fr' %}
                {% if personale %}Modifier employé{% else %}Nouvel employé{% endif %}
            {% else %}
                {% if personale %}Modifica dipendente{% else %}Nuovo dipendente{% endif %}
            {% endif %}
        </h1>
    </div>
</div>

<div class="card form-card">
    <div class="card-body">
        <form method="post">
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label" for="nome">
                        {% if lang == 'fr' %}Prénom{% else %}Nome{% endif %}
                    </label>
                    <input id="nome" name="nome" type="text" required
                           class="form-control"
                           value="{{ personale.nome if personale else '' }}">
                </div>
                <div class="form-group">
                    <label class="form-label" for="cognome">
                        {% if lang == 'fr' %}Nom{% else %}Cognome{% endif %}
                    </label>
                    <input id="cognome" name="cognome" type="text" required
                           class="form-control"
                           value="{{ personale.cognome if personale else '' }}">
                </div>
                <div class="form-group">
                    <label class="form-label" for="ruolo">
                        {% if lang == 'fr' %}Rôle{% else %}Ruolo{% endif %}
                    </label>
                    <input id="ruolo" name="ruolo" type="text"
                           class="form-control"
                           value="{{ personale.ruolo if personale and personale.ruolo else '' }}">
                </div>
                <div class="form-group">
                    <label class="form-label" for="telefono">
                        {% if lang == 'fr' %}Téléphone{% else %}Telefono{% endif %}
                    </label>
                    <input id="telefono" name="telefono" type="text"
                           class="form-control"
                           value="{{ personale.telefono if personale and personale.telefono else '' }}">
                </div>
                <div class="form-group">
                    <label class="form-label" for="email">Email</label>
                    <input id="email" name="email" type="email"
                           class="form-control"
                           value="{{ personale.email if personale and personale.email else '' }}">
                </div>
                <div class="form-group">
                    <label class="form-label" for="data_assunzione">
                        {% if lang == 'fr' %}Date d'embauche{% else %}Data assunzione{% endif %}
                    </label>
                    <input id="data_assunzione" name="data_assunzione" type="date"
                           class="form-control"
                           value="{{ personale.data_assunzione if personale and personale.data_assunzione else '' }}">
                </div>
                <div class="form-group">
                    <label class="form-label" for="attivo">
                        {% if lang == 'fr' %}Actif{% else %}Attivo{% endif %}
                    </label>
                    <input id="attivo" name="attivo" type="checkbox"
                           value="true"
                           {% if not personale or personale.attivo %}checked{% endif %}>
                </div>
                <div class="form-group form-grid--single">
                    <label class="form-label" for="note">
                        {% if lang == 'fr' %}Notes{% else %}Note{% endif %}
                    </label>
                    <textarea id="note" name="note" class="form-textarea" rows="3">
{{ personale.note if personale and personale.note else '' }}</textarea>
                </div>
            </div>

            <div class="form-actions">
                <a href="{{ url_for('manager_personale_list') }}" class="btn btn-secondary">
                    {% if lang == 'fr' %}Annuler{% else %}Annulla{% endif %}
                </a>
                <button type="submit" class="btn btn-primary">
                    {% if lang == 'fr' %}Enregistrer{% else %}Salva{% endif %}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
