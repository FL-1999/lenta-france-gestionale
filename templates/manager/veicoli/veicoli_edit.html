{% extends "shared/base.html" %}

{% block title %}
    {% set lang = request.cookies.get('lang', 'it') %}
    {% if lang == 'fr' %}Modifier v√©hicule{% else %}Modifica veicolo{% endif %}
{% endblock %}

{% block content %}
{% set lang = request.cookies.get('lang', 'it') %}

<div class="page-header">
    <h1 class="page-title">
        üöê {% if lang == 'fr' %}Modifier v√©hicule{% else %}Modifica veicolo{% endif %}
    </h1>
    <p class="page-subtitle">
        {{ veicolo.marca }} {{ veicolo.modello }} ‚Äì {{ veicolo.targa }}
    </p>
</div>

<div class="card">
    <form method="post"
          action="{{ url_for('manager_veicoli_update', veicolo_id=veicolo.id) }}"
          class="form-grid">

        <div class="form-field">
            <label for="marca">{% if lang == 'fr' %}Marque*{% else %}Marca*{% endif %}</label>
            <input type="text" id="marca" name="marca" value="{{ veicolo.marca }}" required />
        </div>

        <div class="form-field">
            <label for="modello">{% if lang == 'fr' %}Mod√®le*{% else %}Modello*{% endif %}</label>
            <input type="text" id="modello" name="modello" value="{{ veicolo.modello }}" required />
        </div>

        <div class="form-field">
            <label for="targa">{% if lang == 'fr' %}Plaque*{% else %}Targa*{% endif %}</label>
            <input type="text" id="targa" name="targa" value="{{ veicolo.targa }}" required />
        </div>

        <div class="form-field">
            <label for="anno">{% if lang == 'fr' %}Ann√©e{% else %}Anno{% endif %}</label>
            <input type="number" id="anno" name="anno" min="1900" max="2100"
                   value="{{ veicolo.anno or '' }}" />
        </div>

        <div class="form-field">
            <label for="km">Km</label>
            <input type="number" id="km" name="km" min="0" step="1"
                   value="{{ veicolo.km or '' }}" />
        </div>

        <div class="form-field form-field--full">
            <label for="note">{% if lang == 'fr' %}Notes{% else %}Note{% endif %}</label>
            <textarea id="note" name="note" rows="3">{{ veicolo.note or '' }}</textarea>
        </div>

        <div class="form-actions">
            <a href="{{ url_for('manager_veicoli_list') }}" class="btn btn-secondary">
                {% if lang == 'fr' %}Annuler{% else %}Annulla{% endif %}
            </a>
            <button type="submit" class="btn btn-primary">
                üíæ {% if lang == 'fr' %}Enregistrer{% else %}Salva{% endif %}
            </button>
        </div>
    </form>
</div>
{% endblock %}
