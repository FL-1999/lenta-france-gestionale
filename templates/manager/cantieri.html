{% extends "base.html" %}

{% block title %}Cantieri – Manager{% endblock %}

{% block content %}
<h1 class="page-title">
  <span class="page-icon page-icon--sites" aria-hidden="true">
    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M4 11.5L12 5l8 6.5V20H4z" stroke="currentColor" stroke-linejoin="round"/>
      <path d="M10 20v-5h4v5" stroke="currentColor" stroke-linecap="round"/>
    </svg>
  </span>
  Gestione cantieri
</h1>
<div class="actions">
  <a href="/manager/cantieri/nuovo" class="button">➕ Nuovo cantiere</a>
</div>

{% if sites %}
<table>
  <thead>
    <tr>
      <th>Nome</th>
      <th>Codice</th>
      <th>Città</th>
      <th>Stato</th>
      <th>Attivo</th>
      <th>Azioni</th>
    </tr>
  </thead>
  <tbody>
    {% for s in sites %}
    <tr>
      <td>{{ s.name }}</td>
      <td>{{ s.code }}</td>
      <td>{{ s.city or "-" }}</td>
      <td>{{ s.status.value if s.status else "-" }}</td>
      <td>{{ "Sì" if s.is_active else "No" }}</td>
      <td>
        <a href="/manager/cantieri/{{ s.id }}/modifica">Modifica</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Nessun cantiere presente.</p>
{% endif %}
{% endblock %}
